import{r as e,i as a,y as t,o as s,c as l,a as r,t as i,d as n,g as c,j as d,k as o,l as u,b,F as m,e as g,f as v}from"./vendor-vue.GR9O-o6O.js";import{C as p,r as y}from"./vendor-chart.DPoKKmb6.js";import{_ as h}from"./index.BFYIaKWM.js";p.register(...y);const k={class:"dashboard-view"},f={class:"dashboard-header"},x={class:"d-flex justify-content-between align-items-center mb-4"},w={class:"text-muted"},T={class:"row mb-4"},M={class:"col-md-3 col-sm-6 mb-3"},S={class:"stat-card card border-0 h-100"},C={class:"card-body"},j={class:"d-flex justify-content-between align-items-center"},D={class:"mb-0"},A={class:"mt-3 d-flex align-items-center"},z={class:"col-md-3 col-sm-6 mb-3"},R={class:"stat-card card border-0 h-100"},K={class:"card-body"},E={class:"d-flex justify-content-between align-items-center"},P={class:"mb-0"},_={class:"mt-3 d-flex align-items-center"},O={class:"col-md-3 col-sm-6 mb-3"},B={class:"stat-card card border-0 h-100"},G={class:"card-body"},q={class:"d-flex justify-content-between align-items-center"},H={class:"mb-0"},L={class:"mt-3 d-flex align-items-center"},Y={class:"col-md-3 col-sm-6 mb-3"},N={class:"stat-card card border-0 h-100"},V={class:"card-body"},W={class:"d-flex justify-content-between align-items-center"},$={class:"mb-0"},F={class:"mt-3 d-flex align-items-center"},Z={class:"row"},I={class:"col-lg-8 col-md-12 mb-4"},J={class:"card border-0 h-100"},U={class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},Q={class:"card-actions"},X={class:"btn-group"},ee={class:"card-body"},ae={class:"chart-container"},te={class:"col-lg-4 col-md-6 mb-4"},se={class:"card border-0 h-100"},le={class:"card-body d-flex align-items-center justify-content-center"},re={class:"chart-container doughnut-chart-container"},ie={class:"col-lg-6 col-md-12 mb-4"},ne={class:"card border-0 h-100"},ce={class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},de={class:"card-body p-0"},oe={class:"table-responsive"},ue={class:"table table-hover mb-0"},be={key:0},me={class:"text-nowrap text-truncate",style:{"max-width":"200px"}},ge={class:"col-lg-6 col-md-12 mb-4"},ve={class:"card border-0 h-100"},pe={class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},ye={class:"card-body p-0"},he={class:"list-group list-group-flush"},ke={key:0,class:"text-center p-4"},fe={class:"d-flex justify-content-between"},xe={class:"mb-1"},we={class:"mb-1 text-break"},Te={class:"text-muted"},Me=h({__name:"Dashboard",setup(y){const h=e(null),Me=e(null);let Se=null;const Ce=e("monthly"),je=e({activeOrders:24,ongoingProduction:18,delayedOrders:3,completedOrders:42,ordersTrend:5.2,productionTrend:-2.1,delayedTrend:-1.8,completedTrend:8.7,criticalMaterials:[{code:"137998%",name:"Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC",stock:2,required:8,status:"critical"},{code:"144866%",name:"KAP-80/190-95 Akım Trafosu",stock:3,required:5,status:"warning"},{code:"157322%",name:"Siemens 8DL5 Sekonder Kablo Seti",stock:0,required:2,status:"critical"},{code:"119845%",name:"LED Lamba Kiti (Kırmızı-Yeşil-Sarı) 24V",stock:5,required:10,status:"warning"}],alerts:[{title:"Teslim Tarihi Gecikmesi",time:"1 saat önce",message:"Sipariş No: #0424-1251 - RM 36 CB hücresinin mekanik montajı gecikiyor.",source:"Mekanik Üretim Birimi",type:"danger"},{title:"Malzeme Eksikliği",time:"3 saat önce",message:"Sipariş No: #0424-1245 için gerekli akım trafosu stokta yok.",source:"Satın Alma Birimi",type:"warning"},{title:"Yeni Sipariş",time:"5 saat önce",message:"KEE Enerji için 12 hücrelik yeni bir sipariş oluşturuldu.",source:"Satış Birimi",type:"info"}]}),De=a((()=>(new Date).toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),Ae=()=>{},ze=e=>{Ce.value=e,Ke()},Re=()=>{const e=h.value.getContext("2d"),a={labels:"weekly"===Ce.value?["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"]:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"].slice(0,(new Date).getMonth()+1),datasets:[{label:"Planlanan Üretim",data:"weekly"===Ce.value?[12,15,18,14,16,10,8]:[35,42,45,50,48,55,60,58,62,65,68,70].slice(0,(new Date).getMonth()+1),borderColor:"#0d6efd",backgroundColor:"rgba(13, 110, 253, 0.1)",tension:.4,fill:!0},{label:"Gerçekleşen Üretim",data:"weekly"===Ce.value?[10,13,16,14,15,9,7]:[32,38,43,45,42,50,55,52,58,60,63,65].slice(0,(new Date).getMonth()+1),borderColor:"#20c997",backgroundColor:"rgba(32, 201, 151, 0.1)",tension:.4,fill:!0}]};Se=new p(e,{type:"line",data:a,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{tooltip:{enabled:!0,mode:"index",intersect:!1},legend:{position:"top",align:"end",labels:{usePointStyle:!0,boxWidth:6}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"rgba(200, 200, 200, 0.15)"},ticks:{color:"#6c757d"}},x:{grid:{display:!1},ticks:{color:"#6c757d"}}}}})},Ke=()=>{Se&&Se.destroy(),Re()};return t(Ce,(()=>{Ke()})),s((()=>{Re(),(()=>{const e=Me.value.getContext("2d");new p(e,{type:"doughnut",data:{labels:["RM 36 CB","RM 36 Switch","RM 36 VT","RM 36 Cable","RM 36 M+F","RM 36 Others"],datasets:[{data:[35,25,15,10,8,7],backgroundColor:["#0d6efd","#20c997","#ffc107","#fd7e14","#6f42c1","#adb5bd"],borderWidth:0,borderRadius:3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:15,boxWidth:8,font:{size:10}}},tooltip:{callbacks:{label:e=>`${e.label}: ${e.raw}%`}}},cutout:"65%"}})})()})),(e,a)=>{const t=u("router-link");return v(),l("div",k,[r("div",f,[r("div",x,[r("div",null,[a[2]||(a[2]=r("h2",{class:"page-title"},"Genel Bakış",-1)),r("p",w,"Hoş geldiniz, bugün "+i(De.value),1)]),r("div",{class:"dashboard-actions"},[r("div",{class:"date-filter d-flex align-items-center me-2"},[r("button",{class:"btn btn-sm btn-outline-primary",onClick:Ae},a[3]||(a[3]=[r("i",{class:"bi bi-arrow-clockwise"},null,-1),n(" Yenile ")]))])])])]),r("div",T,[r("div",M,[r("div",S,[r("div",C,[r("div",j,[r("div",null,[a[4]||(a[4]=r("h6",{class:"text-muted mb-2"},"Aktif Siparişler",-1)),r("h3",D,i(je.value.activeOrders||0),1)]),a[5]||(a[5]=r("div",{class:"stat-icon bg-primary bg-opacity-10 rounded-circle"},[r("i",{class:"bi bi-file-earmark-text text-primary"})],-1))]),r("div",A,[r("span",{class:c(je.value.ordersTrend>0?"text-success":"text-danger")},[r("i",{class:c(je.value.ordersTrend>0?"bi bi-arrow-up":"bi bi-arrow-down")},null,2),n(" "+i(Math.abs(je.value.ordersTrend||0))+"% ",1)],2),a[6]||(a[6]=r("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])]),r("div",z,[r("div",R,[r("div",K,[r("div",E,[r("div",null,[a[7]||(a[7]=r("h6",{class:"text-muted mb-2"},"Devam Eden Üretim",-1)),r("h3",P,i(je.value.ongoingProduction||0),1)]),a[8]||(a[8]=r("div",{class:"stat-icon bg-warning bg-opacity-10 rounded-circle"},[r("i",{class:"bi bi-gear text-warning"})],-1))]),r("div",_,[r("span",{class:c(je.value.productionTrend>0?"text-success":"text-danger")},[r("i",{class:c(je.value.productionTrend>0?"bi bi-arrow-up":"bi bi-arrow-down")},null,2),n(" "+i(Math.abs(je.value.productionTrend||0))+"% ",1)],2),a[9]||(a[9]=r("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])]),r("div",O,[r("div",B,[r("div",G,[r("div",q,[r("div",null,[a[10]||(a[10]=r("h6",{class:"text-muted mb-2"},"Geciken Siparişler",-1)),r("h3",H,i(je.value.delayedOrders||0),1)]),a[11]||(a[11]=r("div",{class:"stat-icon bg-danger bg-opacity-10 rounded-circle"},[r("i",{class:"bi bi-exclamation-triangle text-danger"})],-1))]),r("div",L,[r("span",{class:c(je.value.delayedTrend<0?"text-success":"text-danger")},[r("i",{class:c(je.value.delayedTrend<0?"bi bi-arrow-down":"bi bi-arrow-up")},null,2),n(" "+i(Math.abs(je.value.delayedTrend||0))+"% ",1)],2),a[12]||(a[12]=r("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])]),r("div",Y,[r("div",N,[r("div",V,[r("div",W,[r("div",null,[a[13]||(a[13]=r("h6",{class:"text-muted mb-2"},"Tamamlanan Siparişler",-1)),r("h3",$,i(je.value.completedOrders||0),1)]),a[14]||(a[14]=r("div",{class:"stat-icon bg-success bg-opacity-10 rounded-circle"},[r("i",{class:"bi bi-check-circle text-success"})],-1))]),r("div",F,[r("span",{class:c(je.value.completedTrend>0?"text-success":"text-danger")},[r("i",{class:c(je.value.completedTrend>0?"bi bi-arrow-up":"bi bi-arrow-down")},null,2),n(" "+i(Math.abs(je.value.completedTrend||0))+"% ",1)],2),a[15]||(a[15]=r("span",{class:"text-muted ms-2"},"geçen aya göre",-1))])])])])]),r("div",Z,[r("div",I,[r("div",J,[r("div",U,[a[16]||(a[16]=r("h5",{class:"card-title mb-0"},"Üretim Durumu",-1)),r("div",Q,[r("div",X,[r("button",{onClick:a[0]||(a[0]=e=>ze("weekly")),class:c(["btn btn-sm","weekly"===Ce.value?"btn-primary":"btn-outline-primary"])},"Haftalık",2),r("button",{onClick:a[1]||(a[1]=e=>ze("monthly")),class:c(["btn btn-sm","monthly"===Ce.value?"btn-primary":"btn-outline-primary"])},"Aylık",2)])])]),r("div",ee,[r("div",ae,[r("canvas",{ref_key:"productionChart",ref:h,height:"300"},null,512)])])])]),r("div",te,[r("div",se,[a[17]||(a[17]=r("div",{class:"card-header bg-transparent border-0 d-flex justify-content-between align-items-center"},[r("h5",{class:"card-title mb-0"},"Hücre Tipi Dağılımı")],-1)),r("div",le,[r("div",re,[r("canvas",{ref_key:"cellTypeChart",ref:Me},null,512)])])])]),r("div",ie,[r("div",ne,[r("div",ce,[a[19]||(a[19]=r("h5",{class:"card-title mb-0"},"Kritik Malzeme Durumu",-1)),d(t,{to:"/materials",class:"btn btn-sm btn-outline-primary"},{default:o((()=>a[18]||(a[18]=[n("Tümünü Gör")]))),_:1})]),r("div",de,[r("div",oe,[r("table",ue,[a[21]||(a[21]=r("thead",null,[r("tr",null,[r("th",null,"Malzeme Kodu"),r("th",null,"Malzeme Adı"),r("th",null,"Stok"),r("th",null,"İhtiyaç"),r("th",null,"Durum")])],-1)),r("tbody",null,[je.value.criticalMaterials&&0!==je.value.criticalMaterials.length?b("",!0):(v(),l("tr",be,a[20]||(a[20]=[r("td",{colspan:"5",class:"text-center py-3"},"Kritik malzeme bulunmamaktadır.",-1)]))),(v(!0),l(m,null,g(je.value.criticalMaterials,((e,a)=>(v(),l("tr",{key:a,class:c("critical"===e.status?"table-danger":"table-warning")},[r("td",null,i(e.code),1),r("td",me,i(e.name),1),r("td",null,i(e.stock),1),r("td",null,i(e.required),1),r("td",null,[r("span",{class:c(["badge","critical"===e.status?"bg-danger":"bg-warning"])},i("critical"===e.status?"Kritik":"Eksik"),3)])],2)))),128))])])])])])]),r("div",ge,[r("div",ve,[r("div",pe,[a[23]||(a[23]=r("h5",{class:"card-title mb-0"},"Son Uyarılar",-1)),d(t,{to:"/notifications",class:"btn btn-sm btn-outline-primary"},{default:o((()=>a[22]||(a[22]=[n("Tümünü Gör")]))),_:1})]),r("div",ye,[r("div",he,[je.value.alerts&&0!==je.value.alerts.length?b("",!0):(v(),l("div",ke,a[24]||(a[24]=[r("i",{class:"bi bi-info-circle text-muted fs-3"},null,-1),r("p",{class:"mt-2"},"Şu an için bildirim bulunmamaktadır.",-1)]))),(v(!0),l(m,null,g(je.value.alerts,((e,a)=>(v(),l("a",{key:a,href:"#",class:c(["list-group-item list-group-item-action py-3 border-0",{"border-danger border-start border-3":"danger"===e.type,"border-warning border-start border-3":"warning"===e.type,"border-info border-start border-3":"info"===e.type}])},[r("div",fe,[r("h6",xe,i(e.title),1),r("small",{class:c(`text-${e.type}`)},i(e.time),3)]),r("p",we,i(e.message),1),r("small",Te,i(e.source),1)],2)))),128))])])])])])])}}},[["__scopeId","data-v-24cfa988"]]);export{Me as default};
